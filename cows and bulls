import random

def count_bulls(user_input, target_number):
    bulls = 0
    for i in range(4):
        if user_input[i] == target_number[i]:
            bulls += 1
    return bulls

def count_cows(user_input, target_number):
    cows = 0
    for i in range(4):
        if user_input[i] in target_number and user_input[i] != target_number[i]:
            cows += 1
    return cows

def main_game(target_number , attempts = 1):
    user_input = input("Enter a 4-digit number")
    if len(user_input) != 4 or not user_input.isdigit():
        print("Please enter a valid number!")
        main_game(target_number,attempts)
        return

    bulls = count_bulls(user_input, target_number)
    cows = count_cows(user_input, target_number)

    print(f"Bulls: {bulls}, Cows: {cows}")

    if bulls == 4:
        print("Congratulations")
        return
    else:
        main_game(target_number,attempts + 1)


def random_number():
    return str(random.randint(1000,9999))


target = random_number()
main_game(target)